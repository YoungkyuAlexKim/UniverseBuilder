/* 반응형 디자인 공통 규칙 */

/* 대형 화면 (1200px+) */
@media screen and (min-width: 1200px) {
    :root {
        --sidebar-width: 400px;
    }
}

/* 중형 화면 (768px - 1200px) */
@media screen and (max-width: 1200px) and (min-width: 768px) {
    :root {
        --sidebar-width: 320px;
    }
    
    /* 패딩 감소 */
    .tabs-container {
        padding: 1rem 1.5rem;
    }
    
    /* 폰트 크기 조정 */
    .section-header h3 {
        font-size: 1.2rem;
    }
    
    /* 간격 조정 */
    .worldview-layout,
    #tab-content-scenario {
        padding: 1.5rem;
        gap: 2rem;
    }
}

/* 소형 화면 (768px 이하) */
@media screen and (max-width: 768px) {
    /* 레이아웃 변경 */
    .grid-container {
        grid-template-columns: 1fr;
        grid-template-rows: auto 1fr;
    }
    
    .sidebar {
        grid-column: 1;
        grid-row: 1;
        height: auto;
        border-right: none;
        border-bottom: 2px solid var(--border-primary);
    }
    
    .resizer {
        display: none;
    }
    
    .main-content {
        grid-column: 1;
        grid-row: 2;
        height: calc(100vh - 200px);
    }
    
    /* 프로젝트 헤더 조정 */
    .project-header {
        padding: 0 1rem;
    }
    
    .project-header hgroup h1 {
        font-size: 1.4rem;
    }
    
    /* 탭 네비게이션 조정 */
    .tab-link {
        padding: 0.75rem 1rem;
        font-size: 0.9rem;
    }
    
    /* 탭 컨테이너 조정 */
    .tabs-container {
        height: calc(100vh - 140px);
        padding: 1rem;
    }
    
    /* 폰트 크기 조정 */
    html {
        font-size: 90%;
    }
    
    .section-header h3 {
        font-size: 1.1rem;
    }
    
    /* 간격 조정 */
    .worldview-layout,
    #tab-content-scenario {
        padding: 1rem;
        gap: 1.5rem;
    }
    
    /* 버튼 크기 조정 */
    .btn-primary,
    .btn-success,
    .btn-secondary {
        padding: 0.6rem 1rem;
        font-size: 0.9rem;
    }
    
    /* 카드 간격 조정 */
    .character-cards-grid,
    .worldview-cards-grid {
        gap: 0.5rem;
    }
    
    .plot-points-header {
        flex-direction: column;
        gap: 1rem;
        align-items: stretch;
    }
    
    .plot-buttons-group {
        justify-content: center;
    }
}

/* 초소형 화면 (480px 이하) */
@media screen and (max-width: 480px) {
    html {
        font-size: 85%;
    }
    
    .project-header {
        padding: 0 0.5rem;
    }
    
    .tabs-container {
        padding: 0.75rem;
    }
    
    .worldview-layout,
    #tab-content-scenario {
        padding: 0.75rem;
        gap: 1rem;
    }
    
    /* 그리드 1열로 변경 */
    .character-cards-grid,
    .worldview-cards-grid {
        grid-template-columns: 1fr;
    }
    
    .plot-buttons-group {
        flex-direction: column;
        gap: 0.5rem;
    }
    
    /* 모달 조정 */
    .modal-container {
        padding: 1rem;
    }
    
    .modal-container > article {
        max-width: 100%;
        margin: 0;
    }
}

/* 고해상도 화면 대응 */
@media screen and (-webkit-min-device-pixel-ratio: 2),
       screen and (min-resolution: 192dpi) {
    /* 고해상도에서 선명도 개선 */
    * {
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
    }
}

/* 터치 디바이스 최적화 */
@media (hover: none) and (pointer: coarse) {
    /* 터치 타겟 크기 확대 */
    .tab-link {
        min-height: 44px;
    }
    
    button {
        min-height: 44px;
        padding: 0.75rem 1rem;
    }
    
    .card-actions button,
    .btn-xs {
        min-height: 36px;
        padding: 0.5rem 0.8rem;
    }
    
    /* 호버 효과 제거 */
    .card-base:hover,
    .character-card:hover,
    .worldview-card:hover,
    .plot-point-card:hover {
        transform: none;
        box-shadow: var(--shadow-md);
    }
    
    button:hover {
        transform: none;
    }
}

/* 프린트 미디어 */
@media print {
    .sidebar,
    .resizer,
    .project-header nav,
    .card-actions,
    .character-card-actions,
    .worldview-card-actions,
    .plot-card-actions {
        display: none;
    }
    
    .main-content {
        grid-column: 1 / -1;
    }
    
    .tabs-container {
        height: auto;
        overflow: visible;
    }
    
    .tab-content {
        display: block !important;
    }
    
    * {
        color: #000 !important;
        background: #fff !important;
        box-shadow: none !important;
    }
}
